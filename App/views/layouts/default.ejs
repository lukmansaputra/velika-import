<!DOCTYPE html>
<html class="scroll-smooth h-full no-transition">
  <head>
    <link rel="icon" type="image/png" href="/icons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg" />
    <link rel="shortcut icon" href="/icons/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="MyWebSite" />
    <link rel="manifest" href="/icons/site.webmanifest" />
    <!-- Dark mode setup SEBELUM CSS di-load -->
    <script>
      const userPref = localStorage.getItem('dark-mode');
      const systemPref = window.matchMedia('(prefers-color-scheme: dark)').matches;
      if (userPref === 'true' || (userPref === null && systemPref)) {
        document.documentElement.classList.add('dark');
      }
    </script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= website.website_name %> | <%= formatUpperCase(active) %></title>


    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              primary: 'var(--primary)',
              secondary: 'var(--secondary)',
              third: 'var(--third)',
              four: 'var(--four)',
              five: 'var(--five)',
              card: '#f9cee7'
            },
            fontFamily: {
              spartan: ['"League Spartan"', 'sans-serif'],
            },
          },
        },
      }
    </script>
    <link rel="stylesheet" href="/css/global.css">
    <!-- Plugin CSS -->
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.snow.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    
    <!-- AOS Plugin -->
      <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
      <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          AOS.init();
        });
      </script>

    <!-- Kustomisasi deskripsi produk -->
    <style>
      #product-description * {
        background-color: transparent !important;
      }
      #product-description ol {
        list-style-type: decimal !important;
        padding-left: 1.25rem !important;
      }
      #product-description ul {
        list-style-type: disc !important;
        padding-left: 1.25rem !important;
      }
      #product-description li {
        margin-bottom: 0.5rem;
        display: list-item !important;
      }
      #description-text p span,
      #description-text ul,
      #description-text ol,
      #description-text li,
      #description-text span,
      #description-text p {
        color: inherit !important;
      }
      
    </style>
  </head>

  <body class="bg-gray-100 dark:bg-gray-800 min-h-screen flex flex-col transition-colors duration-500 ease-in-out">
    <%- include("../components/navbar-component") %>  

    <main class="flex-grow">
      <div class="mx-auto"  style="overflow-x: hidden !important;"><%- body %></div>
    </main>

    <footer class="bg-gray-900 text-gray-300">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 grid grid-cols-1 md:grid-cols-4 gap-8">
        <!-- Tentang -->
        <div>
          <h3 class="text-lg font-semibold mb-4 text-white">Tentang Kami</h3>
          <p class="text-sm">Toko Online terpercaya yang menyediakan berbagai produk kebutuhan Anda dengan harga terjangkau dan kualitas terbaik.</p>
        </div>
        <!-- Navigasi -->
        <div>
          <h3 class="text-lg font-semibold mb-4 text-white">Navigasi</h3>
          <ul class="space-y-2 text-sm">
            <li><a href="/" class="hover:underline">Home</a></li>
            <li><a href="/product" class="hover:underline">Product</a></li>
            <li><a href="/#about" class="hover:underline">About</a></li>
            <li><a href="/#contact" class="hover:underline">Contact</a></li>
          </ul>
        </div>
        <!-- Kontak -->
        <div>
          <h3 class="text-lg font-semibold mb-4 text-white">Contact</h3>
          <ul class="text-sm space-y-2"> 
            <li><i class="bi bi-geo-alt"></i> <%= website.address %></li>
            <li><a target="_blank" href="https://api.whatsapp.com/send?phone=<%= formatNumber(website.telp) %>"><i class="bi bi-whatsapp"></i> <%= formatNumber(website.telp, true) %></a></li>
            <li><i class="bi bi-envelope"></i> <%= website.email %></li>
          </ul>
        </div>
        <!-- Sosial Media -->
        <div>
          <h3 class="text-lg font-semibold mb-4 text-white">Follow Us</h3>
          <div class="flex space-x-4">
            <a target="_blank" href="<%= website.facebook %>" class="hover:text-white  flex gap-2"><i class="bi bi-facebook"></i> <span>Facebook</span></a>
            <a target="_blank" href="https://api.whatsapp.com/send?phone=<%= formatNumber(website.telp) %>" class="hover:text-white flex gap-2"><i class="bi bi-whatsapp"></i> <span>Whatsapp</span></a>
            <a target="_blank" href="<%= website.instagram %>" class="hover:text-white  flex gap-2"><i class="bi bi-instagram"></i> <span>Instagram</span></a>
          </div>
        </div>
      </div>
      <div class="border-t border-gray-700 text-center text-sm py-4">
        &copy; 2025 <%= website.website_name %>. Semua hak dilindungi.
      </div>
    </footer>

    <!-- Script eksternal -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>
    <script src="https://unpkg.com/taos@1.0.5/dist/taos.js"></script>

    <!-- Init TAOS
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        initTAOS();
      });
    </script> -->

    <!-- Menu dropdown -->
    <script>
      const button = document.getElementById("mega-menu-icons-dropdown-button");
      const menu = document.getElementById("mega-menu-icons-dropdown");
      button?.addEventListener("click", () => {
        menu?.classList.toggle("hidden");
      });
    </script>

    <!-- Sidebar mobile -->
    <script>
      const toggleBtn = document.getElementById('menu-toggle');
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('overlay');
      toggleBtn?.addEventListener('click', () => {
        sidebar.classList.toggle('-translate-x-full');
        overlay.classList.toggle('hidden');
      });
      overlay?.addEventListener('click', () => {
        sidebar.classList.add('-translate-x-full');
        overlay.classList.add('hidden');
      });
    </script>


    <!-- Sinkronisasi dark mode toggle -->
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const switches = document.querySelectorAll('.light-switch');
        const isDark = localStorage.getItem('dark-mode') === 'true';

        switches.forEach(sw => {
          sw.checked = isDark;
          sw.addEventListener('change', () => {
            const checked = sw.checked;
            switches.forEach(s => s.checked = checked);
            document.documentElement.classList.toggle('dark', checked);
            localStorage.setItem('dark-mode', checked);
          });
        });
      });
    </script>

    <!-- Hapus no-transition setelah load -->
    <script>
      window.addEventListener('load', () => {
        document.documentElement.classList.remove('no-transition');
      });
    </script>
  </body>
</html>
